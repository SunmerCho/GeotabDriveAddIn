<!DOCTYPE html>
<html>
<head>
    <title>Treker Driver</title>
    <script>
        geotab.addin.driver = () => {
            const openDriver = function () {
                try {
                    window.open("treker_driver_lite://", "_system");
                } catch (e) {
                    console.error("Cannot open driver app:", e);
                }
            };

            return {
                initialize(api, state, callback) {
                    document.getElementById("openDriver").addEventListener("click", api.mobile.navigate('home'));
      
                    callback();
                },

                focus(api, state) {
                    // openDriver();

                    api.mobile.navigate('dash');
                },

                blur(api, state) {}
            };
        };
    </script>
</head>
<body>
    <button id="openDriver">Open Driver v3</button>
</body>
</html>
